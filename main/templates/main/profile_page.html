{% load static%}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <title>My Webcrumbs Plugin</title>
        <link
      rel="stylesheet"
      href="{% static 'normal_home.css' %}">
        <style>
            @import url(https://fonts.googleapis.com/css2?family=Lato&display=swap);
            @import url(https://fonts.googleapis.com/css2?family=Open+Sans&display=swap);
            @import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200);

            /*! tailwindcss v3.4.11 | MIT License | https://tailwindcss.com*/
            *,
            :after,
            :before {
                border: 0 solid #e5e7eb;
                box-sizing: border-box;
            }
            :after,
            :before {
                --tw-content: "";
            }
            :host,
            html {
                line-height: 1.5;
                -webkit-text-size-adjust: 100%;
                font-family:
                    Open Sans,
                    ui-sans-serif,
                    system-ui,
                    sans-serif,
                    Apple Color Emoji,
                    Segoe UI Emoji,
                    Segoe UI Symbol,
                    Noto Color Emoji;
                font-feature-settings: normal;
                font-variation-settings: normal;
                -moz-tab-size: 4;
                tab-size: 4;
                -webkit-tap-highlight-color: transparent;
            }
            body {
                line-height: inherit;
                margin: 0;
            }
            hr {
                border-top-width: 1px;
                color: inherit;
                height: 0;
            }
            abbr:where([title]) {
                text-decoration: underline dotted;
            }
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                font-size: inherit;
                font-weight: inherit;
            }
            a {
                color: inherit;
                text-decoration: inherit;
            }
            b,
            strong {
                font-weight: bolder;
            }
            code,
            kbd,
            pre,
            samp {
                font-family:
                    ui-monospace,
                    SFMono-Regular,
                    Menlo,
                    Monaco,
                    Consolas,
                    Liberation Mono,
                    Courier New,
                    monospace;
                font-feature-settings: normal;
                font-size: 1em;
                font-variation-settings: normal;
            }
            small {
                font-size: 80%;
            }
            sub,
            sup {
                font-size: 75%;
                line-height: 0;
                position: relative;
                vertical-align: baseline;
            }
            sub {
                bottom: -0.25em;
            }
            sup {
                top: -0.5em;
            }
            table {
                border-collapse: collapse;
                border-color: inherit;
                text-indent: 0;
            }
            button,
            input,
            optgroup,
            select,
            textarea {
                color: inherit;
                font-family: inherit;
                font-feature-settings: inherit;
                font-size: 100%;
                font-variation-settings: inherit;
                font-weight: inherit;
                letter-spacing: inherit;
                line-height: inherit;
                margin: 0;
                padding: 0;
            }
            button,
            select {
                text-transform: none;
            }
            button,
            input:where([type="button"]),
            input:where([type="reset"]),
            input:where([type="submit"]) {
                -webkit-appearance: button;
                background-color: transparent;
                background-image: none;
            }
            :-moz-focusring {
                outline: auto;
            }
            :-moz-ui-invalid {
                box-shadow: none;
            }
            progress {
                vertical-align: baseline;
            }
            ::-webkit-inner-spin-button,
            ::-webkit-outer-spin-button {
                height: auto;
            }
            [type="search"] {
                -webkit-appearance: textfield;
                outline-offset: -2px;
            }
            ::-webkit-search-decoration {
                -webkit-appearance: none;
            }
            ::-webkit-file-upload-button {
                -webkit-appearance: button;
                font: inherit;
            }
            summary {
                display: list-item;
            }
            blockquote,
            dd,
            dl,
            figure,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            hr,
            p,
            pre {
                margin: 0;
            }
            fieldset {
                margin: 0;
            }
            fieldset,
            legend {
                padding: 0;
            }
            menu,
            ol,
            ul {
                list-style: none;
                margin: 0;
                padding: 0;
            }
            dialog {
                padding: 0;
            }
            textarea {
                resize: vertical;
            }
            input::placeholder,
            textarea::placeholder {
                color: #9ca3af;
                opacity: 1;
            }
            [role="button"],
            button {
                cursor: pointer;
            }
            :disabled {
                cursor: default;
            }
            audio,
            canvas,
            embed,
            iframe,
            img,
            object,
            svg,
            video {
                display: block;
                vertical-align: middle;
            }
            img,
            video {
                height: auto;
                max-width: 100%;
            }
            [hidden] {
                display: none;
            }
            *,
            :after,
            :before {
                --tw-border-spacing-x: 0;
                --tw-border-spacing-y: 0;
                --tw-translate-x: 0;
                --tw-translate-y: 0;
                --tw-rotate: 0;
                --tw-skew-x: 0;
                --tw-skew-y: 0;
                --tw-scale-x: 1;
                --tw-scale-y: 1;
                --tw-pan-x: ;
                --tw-pan-y: ;
                --tw-pinch-zoom: ;
                --tw-scroll-snap-strictness: proximity;
                --tw-gradient-from-position: ;
                --tw-gradient-via-position: ;
                --tw-gradient-to-position: ;
                --tw-ordinal: ;
                --tw-slashed-zero: ;
                --tw-numeric-figure: ;
                --tw-numeric-spacing: ;
                --tw-numeric-fraction: ;
                --tw-ring-inset: ;
                --tw-ring-offset-width: 0px;
                --tw-ring-offset-color: #fff;
                --tw-ring-color: rgba(59, 130, 246, 0.5);
                --tw-ring-offset-shadow: 0 0 #0000;
                --tw-ring-shadow: 0 0 #0000;
                --tw-shadow: 0 0 #0000;
                --tw-shadow-colored: 0 0 #0000;
                --tw-blur: ;
                --tw-brightness: ;
                --tw-contrast: ;
                --tw-grayscale: ;
                --tw-hue-rotate: ;
                --tw-invert: ;
                --tw-saturate: ;
                --tw-sepia: ;
                --tw-drop-shadow: ;
                --tw-backdrop-blur: ;
                --tw-backdrop-brightness: ;
                --tw-backdrop-contrast: ;
                --tw-backdrop-grayscale: ;
                --tw-backdrop-hue-rotate: ;
                --tw-backdrop-invert: ;
                --tw-backdrop-opacity: ;
                --tw-backdrop-saturate: ;
                --tw-backdrop-sepia: ;
                --tw-contain-size: ;
                --tw-contain-layout: ;
                --tw-contain-paint: ;
                --tw-contain-style: ;
            }
            ::backdrop {
                --tw-border-spacing-x: 0;
                --tw-border-spacing-y: 0;
                --tw-translate-x: 0;
                --tw-translate-y: 0;
                --tw-rotate: 0;
                --tw-skew-x: 0;
                --tw-skew-y: 0;
                --tw-scale-x: 1;
                --tw-scale-y: 1;
                --tw-pan-x: ;
                --tw-pan-y: ;
                --tw-pinch-zoom: ;
                --tw-scroll-snap-strictness: proximity;
                --tw-gradient-from-position: ;
                --tw-gradient-via-position: ;
                --tw-gradient-to-position: ;
                --tw-ordinal: ;
                --tw-slashed-zero: ;
                --tw-numeric-figure: ;
                --tw-numeric-spacing: ;
                --tw-numeric-fraction: ;
                --tw-ring-inset: ;
                --tw-ring-offset-width: 0px;
                --tw-ring-offset-color: #fff;
                --tw-ring-color: rgba(59, 130, 246, 0.5);
                --tw-ring-offset-shadow: 0 0 #0000;
                --tw-ring-shadow: 0 0 #0000;
                --tw-shadow: 0 0 #0000;
                --tw-shadow-colored: 0 0 #0000;
                --tw-blur: ;
                --tw-brightness: ;
                --tw-contrast: ;
                --tw-grayscale: ;
                --tw-hue-rotate: ;
                --tw-invert: ;
                --tw-saturate: ;
                --tw-sepia: ;
                --tw-drop-shadow: ;
                --tw-backdrop-blur: ;
                --tw-backdrop-brightness: ;
                --tw-backdrop-contrast: ;
                --tw-backdrop-grayscale: ;
                --tw-backdrop-hue-rotate: ;
                --tw-backdrop-invert: ;
                --tw-backdrop-opacity: ;
                --tw-backdrop-saturate: ;
                --tw-backdrop-sepia: ;
                --tw-contain-size: ;
                --tw-contain-layout: ;
                --tw-contain-paint: ;
                --tw-contain-style: ;
            }
            #webcrumbs .relative {
                position: relative;
            }
            #webcrumbs .mx-auto {
                margin-left: auto;
                margin-right: auto;
            }
            #webcrumbs .mb-2 {
                margin-bottom: 8px;
            }
            #webcrumbs .mb-8 {
                margin-bottom: 32px;
            }
            #webcrumbs .mr-4 {
                margin-right: 16px;
            }
            #webcrumbs .mt-10 {
                margin-top: 40px;
            }
            #webcrumbs .mt-8 {
                margin-top: 32px;
            }
            #webcrumbs .flex {
                display: flex;
            }
            #webcrumbs .grid {
                display: grid;
            }
            #webcrumbs .min-h-screen {
                min-height: 100vh;
            }
            #webcrumbs .max-w-4xl {
                max-width: 56rem;
            }
            #webcrumbs .transform {
                transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate))
                    skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
            }
            #webcrumbs .grid-cols-1 {
                grid-template-columns: repeat(1, minmax(0, 1fr));
            }
            #webcrumbs .flex-row {
                flex-direction: row;
            }
            #webcrumbs .items-center {
                align-items: center;
            }
            #webcrumbs .justify-end {
                justify-content: flex-end;
            }
            #webcrumbs .justify-between {
                justify-content: space-between;
            }
            #webcrumbs .gap-2 {
                gap: 8px;
            }
            #webcrumbs .gap-3 {
                gap: 12px;
            }
            #webcrumbs .gap-4 {
                gap: 16px;
            }
            #webcrumbs .gap-6 {
                gap: 24px;
            }
            #webcrumbs .overflow-hidden {
                overflow: hidden;
            }
            #webcrumbs .rounded-lg {
                border-radius: 24px;
            }
            #webcrumbs .rounded-xl {
                border-radius: 36px;
            }
            #webcrumbs .border {
                border-width: 1px;
            }
            #webcrumbs .border-l-4 {
                border-left-width: 4px;
            }
            #webcrumbs .border-red-300 {
                --tw-border-opacity: 1;
                border-color: rgb(252 165 165 / var(--tw-border-opacity));
            }
            #webcrumbs .border-red-500 {
                --tw-border-opacity: 1;
                border-color: rgb(239 68 68 / var(--tw-border-opacity));
            }
            #webcrumbs .bg-red-100 {
                --tw-bg-opacity: 1;
                background-color: rgb(254 226 226 / var(--tw-bg-opacity));
            }
            #webcrumbs .bg-red-50 {
                --tw-bg-opacity: 1;
                background-color: rgb(254 242 242 / var(--tw-bg-opacity));
            }
            #webcrumbs .bg-red-600 {
                --tw-bg-opacity: 1;
                background-color: rgb(220 38 38 / var(--tw-bg-opacity));
            }
            #webcrumbs .bg-white {
                --tw-bg-opacity: 1;
                background-color: rgb(255 255 255 / var(--tw-bg-opacity));
            }
            #webcrumbs .bg-gradient-to-br {
                background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
            }
            #webcrumbs .from-red-50 {
                --tw-gradient-from: #fef2f2 var(--tw-gradient-from-position);
                --tw-gradient-to: hsla(0, 86%, 97%, 0) var(--tw-gradient-to-position);
                --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
            }
            #webcrumbs .to-white {
                --tw-gradient-to: #fff var(--tw-gradient-to-position);
            }
            #webcrumbs .p-4 {
                padding: 16px;
            }
            #webcrumbs .p-5 {
                padding: 20px;
            }
            #webcrumbs .p-6 {
                padding: 24px;
            }
            #webcrumbs .px-4 {
                padding-left: 16px;
                padding-right: 16px;
            }
            #webcrumbs .px-6 {
                padding-left: 24px;
                padding-right: 24px;
            }
            #webcrumbs .py-2 {
                padding-bottom: 8px;
                padding-top: 8px;
            }
            #webcrumbs .text-2xl {
                font-size: 24px;
                line-height: 31.200000000000003px;
            }
            #webcrumbs .text-lg {
                font-size: 18px;
                line-height: 27px;
            }
            #webcrumbs .text-sm {
                font-size: 14px;
                line-height: 21px;
            }
            #webcrumbs .text-xl {
                font-size: 16px;
                line-height: 28px;
            }
            #webcrumbs .font-bold {
                font-weight: 700;
            }
            #webcrumbs .font-semibold {
                font-weight: 600;
            }
            #webcrumbs .text-gray-700 {
                --tw-text-opacity: 1;
                color: rgb(55 65 81 / var(--tw-text-opacity));
            }
            #webcrumbs .text-gray-900 {
                --tw-text-opacity: 1;
                color: rgb(17 24 39 / var(--tw-text-opacity));
            }
            #webcrumbs .text-red-700 {
                --tw-text-opacity: 1;
                color: rgb(185 28 28 / var(--tw-text-opacity));
            }
            #webcrumbs .text-red-800 {
                --tw-text-opacity: 1;
                color: rgb(153 27 27 / var(--tw-text-opacity));
            }
            #webcrumbs .text-white {
                --tw-text-opacity: 1;
                color: rgb(255 255 255 / var(--tw-text-opacity));
            }
            #webcrumbs .shadow-inner {
                --tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
                --tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);
            }
            #webcrumbs .shadow-inner,
            #webcrumbs .shadow-lg {
                box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
            }
            #webcrumbs .shadow-lg {
                --tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
                --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            }
            #webcrumbs .shadow-md {
                --tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
                --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
            }
            #webcrumbs .shadow-md,
            #webcrumbs .shadow-sm {
                box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
            }
            #webcrumbs .shadow-sm {
                --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
                --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            }
            #webcrumbs .transition-all {
                transition-duration: 0.15s;
                transition-property: all;
                transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            }
            #webcrumbs .transition-shadow {
                transition-duration: 0.15s;
                transition-property: box-shadow;
                transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            }
            #webcrumbs .duration-300 {
                transition-duration: 0.3s;
            }
            #webcrumbs {
                font-family: Open Sans !important;
                font-size: 16px !important;
            }
            #webcrumbs .hover\:scale-105:hover {
                --tw-scale-x: 1.05;
                --tw-scale-y: 1.05;
                transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate))
                    skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
            }
            #webcrumbs .hover\:bg-gray-100:hover {
                --tw-bg-opacity: 1;
                background-color: rgb(243 244 246 / var(--tw-bg-opacity));
            }
            #webcrumbs .hover\:bg-red-200:hover {
                --tw-bg-opacity: 1;
                background-color: rgb(254 202 202 / var(--tw-bg-opacity));
            }
            #webcrumbs .hover\:bg-red-700:hover {
                --tw-bg-opacity: 1;
                background-color: rgb(185 28 28 / var(--tw-bg-opacity));
            }
            #webcrumbs .hover\:shadow:hover {
                --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
                --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
            }
            #webcrumbs .hover\:shadow-lg:hover,
            #webcrumbs .hover\:shadow:hover {
                box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
            }
            #webcrumbs .hover\:shadow-lg:hover {
                --tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
                --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            }
            @media (min-width: 768px) {
                
                #webcrumbs .md\:grid-cols-2 {
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                }
                #webcrumbs .md\:p-6 {
                    padding: 24px;
                }
                #webcrumbs .md\:text-3xl {
                    font-size: 30px;
                    line-height: 36px;
                }
                #webcrumbs .md\:text-base {
                    font-size: 16px;
                    line-height: 25.6px;
                }
            }
            @media (min-width: 1024px) {
                #webcrumbs .lg\:grid-cols-3 {
                    grid-template-columns: repeat(3, minmax(0, 1fr));
                }
                #webcrumbs .lg\:p-8 {
                    padding: 32px;
                }
            }

            body {
                line-height: inherit;
                display: flex;
                flex-direction: column;
                min-width: 100vw;
                min-height: 100vh;
                align-items: center;
                justify-content: center;
                background: linear-gradient(135deg, #ffffff, #d4d4d4);
            }
            #map {
                height: 150px; /* Adjust the height */
                width: 100%; /* Adjust the width */
            }
            input{
                font-size: 16px;
                width: 100%;
            }
        </style>
    </head>
    <body onload="updateTime()">
        
        <div id="webcrumbs">
            
            <div class=" min-h-screen p-4 md:p-6 lg:p-8" style="border-radius: 30px;">
                <header class="bg-white shadow-lg p-4" style="border-radius: 30px;">
                    <nav class="container mx-auto flex justify-between items-center" >
                      <div class="flex items-center space-x-2 hover:scale-105 transition-transform duration-300"> 
                        <span class="material-symbols-outlined text-red-600 text-3xl animate-pulse">bloodtype</span>
                         <h1 class="text-2xl font-bold text-red-600">RedRespond</h1> </div> 
                      <div class="flex items-center space-x-6">
                        <div class="flex items-center space-x-2">
                          <span class="material-symbols-outlined text-red-500"
                            >schedule</span>
                          <span class="text-sm"><span id="time"></span> <span id="date"></span></span>
                        </div>
                        {% if home == "normal" %}
                        <div class="flex items-center space-x-2">
                          <span class="material-symbols-outlined text-red-500"
                            >person</span
                          >
                          <span>&nbsp;Hello, {{request.user.username}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                          <span
                            class="bg-red-100 text-red-600 px-2 py-1 rounded-full text-sm"
                            >{{user111.blood_group}}</span
                          >
                        </div>
                        
                        <a href="{% url 'blood_bank_search' %}">
                          <button
                            class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105 flex items-center space-x-2"
                          >
                            <span class="material-symbols-outlined mr-2">search</span>
                            Search
                          </button></a>
                          
                          <a href="{% url 'normal_home' %}">
                            <button
                              class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105 flex items-center space-x-2"
                            >
                              <span class="material-symbols-outlined mr-2">home</span>
                                Home
                            </button></a>
                            {% else %}
                            <div class="flex items-center space-x-2">
                                <span class="material-symbols-outlined text-red-500"
                                  >local_hospital</span
                                >
                                <span>{{user111.organization_name}} </span>
                              </div>
                            <a href="{% url 'blood_bank_home' %}">
                              <button
                                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105 flex items-center space-x-2"
                              >
                                <span class="material-symbols-outlined mr-2">home</span>
                                  Home
                              </button></a>
                            {% endif %}
                        <a href="{% url 'logout' %}">
                        <button
                          class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105 flex items-center space-x-2"
                        >
                          <span class="material-symbols-outlined mr-2">logout</span>
                          Logout
                        </button></a>
                      </div>
                    </nav>
                  </header>
                <div
                    class="max-w-4xl mx-auto bg-gradient-to-br from-red-50 to-white rounded-xl shadow-lg overflow-hidden"
                    style="margin-top: 20px;"
                >
                    <div class="relative p-6">
                        <div class="flex justify-between items-center mb-8">
                            <h1 class="text-2xl md:text-3xl font-bold text-red-700">Profile Information</h1>
                            <button
                                class="flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transform hover:scale-105 transition-all duration-300 shadow-md"
                                onclick="changeedit()"
                                >
                                <span class="material-symbols-outlined">edit</span> Edit Profile
                            </button>
                        </div>
                        <div class=" hello grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Username</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.username }}</p>
                            </div>
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Phone Number</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.phone_number }}</p>
                            </div>
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Email Address</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.email }}</p>
                            </div>
                            
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">City</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.city }}</p>
                            </div>
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">State</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.state }}</p>
                            </div>

                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Pin Code</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.pincode }}</p>
                            </div>
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500 md:col-span-2"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Address</h2>
                                <p class="text-xl text-gray-900">{{ user111.user.address }}</p>
                            </div>
                            {% if home == "normal" %}
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Blood Group</h2>
                                <p class="text-xl text-gray-900">{{ user111.blood_group }}</p>
                            </div>
                            {% else %}
                            <div
                                class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500"
                            >
                                <h2 class="text-lg font-semibold text-gray-700 mb-2">Organization Name</h2>
                                <p class="text-xl text-gray-900">{{ user111.organization_name }}</p>
                            </div>
                            {% endif %}
                            <div id="map"></div>
                            <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
                            <script>
                                // Set up the map
                                lat={{user111.user.loc_latitude}};
                                lon={{user111.user.loc_longitude}};
                                const map = L.map('map').setView([lat, lon], 14); // Example: New York City
                                
                        
                                // Add the OpenStreetMap tiles
                                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                    maxZoom: 19,
                                }).addTo(map);
                        
                                // Add a marker
                                L.marker([lat, lon]).addTo(map)
                                    .bindPopup('This is {{user111.user.username|upper}} .')
                                    .openPopup();
                                
                            </script>
                        </div>
                        <div class="abcde " style="display: none;">   
                            <form method="POST" class="w-full col-span-full">
                                {% csrf_token %}
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Username</h2>
                                        <input type="text" name="username" value="{{ user111.user.username }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Phone Number</h2>
                                        <input type="text" name="phone_number" value="{{ user111.user.phone_number }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Email Address</h2>
                                        <input type="email" name="email" value="{{ user111.user.email }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">City</h2>
                                        <input type="text" name="city" value="{{ user111.user.city }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">State</h2>
                                        <input type="text" name="state" value="{{ user111.user.state }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Pin Code</h2>
                                        <input type="text" name="pincode" value="{{ user111.user.pincode }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500 md:col-span-2">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Address</h2>
                                        <input type="text" name="address" value="{{ user111.user.address }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    {% if home == "normal" %}
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Blood Group</h2>
                                        <input type="text" name="blood_group" value="{{ user111.blood_group }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    {% else %}
                                    <div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-red-500">
                                        <h2 class="text-lg font-semibold text-gray-700 mb-2">Organization Name</h2>
                                        <input type="text" name="organization_name" value="{{ user111.organization_name }}" 
                                            class="text-xl text-gray-900 w-full p-2 border rounded-lg" required />
                                    </div>
                                    {% endif %}
                                    <button id="getLocation" name="get_location" type="button"
                                        class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transform hover:scale-105 transition-all duration-300 shadow-md"
                                        style="max-height:75px"
                                        >
                                    <span id="circletick" class="material-symbols-outlined" style="display: none;">check_circle</span> Change your Location
                                    </button>
                                </div>
                                <script>
                                    const getLocationBtn = document.getElementById('getLocation');
          getLocationBtn.addEventListener('click', () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        // Create hidden form fields for lat/lon
                        const form = document.querySelector('form');
                        
                        document.getElementById('id_loc_lat').value = lat;
                        document.getElementById('id_loc_lon').value = lon;
                        document.getElementById('circletick').style.display = 'block';
                        getLocationBtn.style.background = 'green';
                    },
                    (error) => {
                        console.error(error);
                        coordinatesDisplay.innerText = "Unable to retrieve location.";
                    }
                );
            } else {
                coordinatesDisplay.innerText = "Geolocation is not supported by your browser.";
            }
        });
    </script>
    
                                <div class="mt-8 flex justify-end">
                                    <button type="submit"
                                        class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transform hover:scale-105 transition-all duration-300 shadow-md"
                                    >
                                        Save Changes
                                    </button>
                                    <input id="id_loc_lat" name="latitude" style="width: 0; height: 0; opacity: 0;" value="{{user111.user.loc_latitude}}"/>
                                    <input id="id_loc_lon" name="longitude" style="width: 0; height: 0; opacity: 0;" value="{{user111.user.loc_longitude}}"/>
                                </div>
                            </form>
                        </div>
                        <div class="mt-10 p-6 bg-red-50 rounded-lg shadow-inner">
                            <div class="flex items-center gap-3 text-red-800">
                                <span class="material-symbols-outlined text-2xl">shield</span>
                                <p class="text-sm md:text-base">
                                    Your information is securely stored and only shared with verified blood banks when you
                                    approve a donation request.
                                </p>
                            </div>
                        </div>
                    
                    </div>
                    <script>
                        function changeedit() {
                            var hello = document.querySelector('.hello');
                            var abcde = document.querySelector('.abcde');
                            hello.style.display = 'none';
                            abcde.style.display = 'grid';
                        }
                    </script>
                </div>
            </div>
        </div>
        <script>
            function updateTime() {
                const now = new Date();
                
                // Get the current time
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const seconds = now.getSeconds().toString().padStart(2, '0');
                const formattedTime = hours + ':' + minutes + ':' + seconds+ "  ,   ";
        
                // Get the current date
                const daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                const monthsOfYear = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
                const dayOfWeek = daysOfWeek[now.getDay()];
                const month = monthsOfYear[now.getMonth()];
                const day = now.getDate().toString().padStart(2, '0');
                const year = now.getFullYear();
                const formattedDate = `    ${dayOfWeek} ,  ${month}  ${day} ,  ${year} `;
        
                // Update both date and time on the page
                document.getElementById('time').textContent = formattedTime;
                document.getElementById('date').textContent = formattedDate;
            }
        
            setInterval(updateTime, 1000); // Update every second
        </script>
    </body>
</html>
